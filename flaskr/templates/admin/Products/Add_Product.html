{% extends "admin/baseAdmin.html" %}

{% block content %}
    <!-- Content Header (Page header) -->
    <div class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0 text-dark">Add Product</h1>
                </div><!-- /.col -->
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="/Admin" style="text-decoration: none;">Home</a></li>
                        <li class="breadcrumb-item active">Add Product</li>
                    </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-8 mx-auto">
                    <form action="http://localhost:5000/api/products" method="post" enctype="multipart/form-data">
                        <div class="form-group">
                            <label for="productNameInput">Name of product</label>
                            <input type="text" class="form-control" name="productNameInput" id="productNameInput" placeholder="Enter Name">
                        </div>
                        <div class="form-group">
                            <label for="productImage">Image of product</label>
                            <input type="file" class="form-control-file" name="productImage" id="productImage">
                        </div>
                        <div class="form-group">
                            <label for="productDescription">Description of product</label>
                            <textarea class="form-control" name="productDescription" id="productDescription" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="productSellingPriceInput">Selling Price of product</label>
                            <input type="number" class="form-control" name="productSellingPriceInput" id="productSellingPriceInput"
                                   placeholder="Enter Price" min="0" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="productCostPriceInput">Cost Price of product</label>
                            <input type="number" class="form-control" name="productCostPriceInput" id="productCostPriceInput"
                                   placeholder="Enter Price" min="0" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="productCategory">Category of product</label>
                            <select class="form-control" name="productCategory" id="productCategory">
                                {% for category in category_list %}
                                    <option>{{ category }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <button type="submit" class="btn btn-outline-primary mx-auto">Submit
                        </button>
                    </form>
                </div>
            </div><!-- /.row -->
        </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->

    {#    if we need validation for fields use this: https://getbootstrap.com/docs/4.0/components/forms/#validation #}

    <script>
        {#function send_data() {#}
        {##}
        {#    let url = "http://localhost:5000/api/products";#}
        {#    let productName = document.getElementById("productNameInput").value;#}
        {#    let productSellingPrice = document.getElementById("productSellingPriceInput").value;#}
        {#    let productCostPrice = document.getElementById("productCostPriceInput").value;#}
        {##}
        {#    let data = {#}
        {#        product_name: productName,#}
        {#        product_selling_price: productSellingPrice,#}
        {#        product_cost_price: productCostPrice#}
        {#    };#}
        {##}
        {#    fetch(url, {#}
        {#        method: 'POST',#}
        {#        headers: {#}
        {#            'Content-Type': 'application/json',#}
        {#        },#}
        {#        body: JSON.stringify(data)#}
        {#    })#}
        {##}
        {#    document.getElementById("productNameInput").value = "";#}
        {#    document.getElementById("productSellingPriceInput").value = "";#}
        {#    document.getElementById("productCostPriceInput").value = "";#}
        {##}


    </script>

{% endblock %}

